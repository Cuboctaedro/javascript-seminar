# React και άλλα frameworks

Όπως έχουμε δει, η JavaScript μας δίνει τη δυνατότητα να ανανεώνουμε ένα html με βάση τις ενέργειες του χρήστη. Θα πρέπει να έχουμε δημιουργήσει event listeners για να παρακολουθούμε αυτές τις ενέργειες, να έχουμε εντοπίσει μέσα στο html τα στοιχεία που θέλουμε να αλλάξουμε και να γράψουμε και τον κώδικα που θα κάνει τις αλλαγές γράφοντας όποιο καινούριο html μέσα στη JavaScript είτε σαν strings είτε δημιουργόντας elements και προσθέτοντας attributes και περιεχόμενο. Αυτά τα εργαλεία μας δίνουν από μόνα τους τη δυνατότητα να γράψουμε πλήρεις εφαρμογές βασισμένες σε JavaScript. Όμως αυτό γίνεται γράφοντας πολύ κώδικα ο οποίος δεν είναι ευκολα διαχειρίσιμος όσον αφορά τις ανανεώσεις και τις προσθήκες λειτουργιών στην εφαρμογή. 

Πολλές φορές έχουμε στις εφαρμογές μας επαναλαμβανόμενα στοιχεία όπως για παράδειγμα popups, dropdowns, tabs και άλλα στοιχεία που απαιτούν JavaScript για τη λειτουργία τους. Στόχος μας είναι να κάνουμε τέτοια στοιχεία επαναχρησιμοποιήσιμα. Να έχουμε δηλαδή ένα κώδικα JavaScript που θα μπορεί, για παράδειγμα, να εντοπίζει όλα τα tabs που υπάρχουν στην εφαρμογή μας (πιθανως μέσω κάποιου data-attribute) και να τα ενεργοποιεί. 

Όσο η JavaScript αντιμετοπίζονταν σαν κάτι συμπληρωματικό σε μία ιστοσελίδα, ο στόχος θα ήταν να δημιουργήσουμε ένα σωστό html που να μπορεί να λειτουργήσει ακόμα και χωρίς JavaScript, να προσθέσουμε css, έχοντας τη δομή του html ως δεδομένη και πρσοθέτοντας μόνο κάποια classes. Τέλος η JavaScript θα έμπαινε σαν τρίτο στοιχείο πάνω στο υπάρχον html πρσοθέτοντας είτε classes, είτε, πιο σωστά, data-attributes. Αυτή η λογική οδηγούσε σε μία οργάνωση κώδικα που βασιζόταν στην αυτονομία των γλωσσών. Επρεπε δηλαδή το html να μπορεί να υπάρξει αυτόνομα, το css να γράφεται με τη μορφή frameworks όπως το Bulma ή το Bootstrap που περιμένουν μία απλή και "προφανή" δομή στο html και λίγα classes. Η JavaScript μπορούσε να γραφτεί ως μία σειρά από functions που το κάθε ένα ενεργοποιούσε ένα element, για παράδειγμα τα popups ή τα tabw και θα μπορούσε να επαναχρησιμοποιείται από το ένα project στο άλλο.

Όταν όμως η υποστήριξη των browser στη JavaScript έγινε πιο δεδομένη και αυξήθηκαν οι δυνατότητες των συσκευών αλλά και οι ταχύτητες σύνδεσης στο διαδύκτυο άρχισε να θεωρείται πλέον η JavaScript ως κάτι δεδομένο. Από τη στιγμή λοιπόν που η χρήση JavaScript και μάλιστα αρκετής JavaScript θεωρείται δεδομένη, ο διαχωρισμός σε γλώσσες αρχίζει να μην έχει νόημα. Μπορούμε να γράφουμε html, css και JavaScript θεωρόντας δεδομένο ότι θα είναι όλα διαθέσιμα. Οπότε ο τρόπος να κάνουμε τον κώδικα μας πιο modular και εύκολο να επαναχρησιμοποιηθεί δεν είναι ο διαχωρισμός σε γλώσσες αλλά σε components. Να μαζέψουμε δηλαδή μαζί το html, το css και τη JavaScript για μία λειτουργία, πχ τα tabs, και να μπορούμε απλά να το κάνουμε import σε ένα project και να το τροφοδοτούμε με δεδομένα, ίσως και με κάποιες παραμέτρους που θα επιρρεάσουν την εμφάνιση για να προσαρμοστεί στο υπόλοιπο project.

Όσο είχαμε την λογική του διαχωρισμού των γλωσσών το βασικό framework που χρησιμποιούσαμε ήταν η JQuery. Η JQuery δημιουργήθηκε πριν η JavaScript αποκτήσει όλες τις δυνατότητες που έχει σήμερα και, κυρίως, πριν να έχουμςε μια σταθερή υποστήριξη από όλους τους browsers. Αυτό που προσέφερε ήταν ένας εύκολος και γρήγορος τρόπος να εντοπίζουμε elements μέσα στο html, να προσθέτουμε ή να αφαιρούμε attributes και να προσθέτουμε event listeners. Για κάποια χρόνια ήταν κυρίαρχο εργαλείο και ακόμα έχει ζήτηση καθώς συνεχίζει να υπάρχει σε πάρα πολλά παλιότερα projects.

Σήμερα κυριαρχούν τα frameworks που μας δίνουν τη δυνατότητα να δουλεύουμε με components έτσι όπως τα περιγράψαμε παραπάνω. Υπάρχουν πολλά frameworks για αυτή τη δουλειά και υπάρχει και η δυνατότητα να δημιουργήσουμε components απλά μέσω JavaScript: https://developer.mozilla.org/en-US/docs/Web/Web_Components. Τελικά αυτή τη στιγμή κυριαρχούν στην αγορά η React, Angular, Vue και Svelte.

## JSX
Το jsx είναι ένα από τα βασικά στοιχεία της React. Είναι μία επέκταση του συντακτικού της JavaScript που μας δίνει τη δυνατότητα να γράφουμε html μέσα στη JavaScript.

```jsx
    const element = <h1>Hello, world!</h1>;
```

Το jsx λειτουργεί σαν μία συνάρτηση που δημιουργεί html elements. Συνήθως γράφουμε τέτοιο κώδικα μέσα σε αρχεία με κατάληξη .jsx τα οποία χρειάζονται να περάσουν από κάποιο builder όπως το Parcel πριν χρησιμοποιηθούν στο browser.

Η βασική χρησιμότητα του jsx είναι ότι μπορούμε να το συνδυάσουμε με JavaScript χρησιμοποιόντας μεταβλήτές.

```jsx
    const name = 'John Smith';
    const element = <h1>Hello, {name}</h1>;
```

Αλλά μπορούμε να χρησιμοποιήσουμε όχι μόνο μεταβλητές αλλά οποιοδήποτε expression μας επιστρέφει τελικά ένα string.

```jsx
    const formatName = (user) => {
        return user.firstName + ' ' + user.lastName;
    };

    const user = {
        firstName: 'John',
        lastName: 'Smith'
    };

    const element = (
        <h1>
            Hello, {formatName(user)}!
        </h1>
    );
```

Επίσης μπορούμε να χρησιμοποιήσουμε το ίδιο το jsx σαν expression.

```jsx
    const getGreeting = (user) => {
        if (user) {
            return <h1>Hello, {formatName(user)}!</h1>;
        }
        return <h1>Hello, Stranger.</h1>;
    }
```

Μπορούμε να προσθέσουμε attributes στα tags

```jsx
    const link = <a href="https://reactjs.org">React</a>

    const url = "https://reactjs.org";

    const link2 = <a href={url}>React</a>
```

Πολλά attributes πρέπει να τα μετατρέπουμε σε camelCase.

```jsx
    const tab = <div className="tab" tabIndex={-1}>Tab title</div>

```

Μπορούμε να έχουμε και tags μέσα σε tags:

```jsx
    const element = (
        <div>
            <h1>Title</h1>
            <div>Content</div>
        </div>
    );

```

Αλλά πάντα ένα στοιχείο jsx θα πρέπει να περιλαμβάνεται όλο σε ένα tag ή έστω σε ένα fragment

```jsx
    const wrong = (
        <h1>Title</h1>
        <div>Content</div>
    );
    const right = (
        <>
            <h1>Title</h1>
            <div>Content</div>
        </>
    );

```